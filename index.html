<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Daily Launchpad</title>
  <meta name="description" content="One-click launchpad with multi-source RSS readers, sports/news/tech quick links." />
  <style>
    :root { --bg:#0b1220; --card:#121a2b; --text:#dbe3f0; --muted:#9aa7bd; --border:#22304b; --shadow:0 12px 24px rgba(0,0,0,.5); --radius:16px; }
    @media (prefers-color-scheme: light) { :root { --bg:#f6f7fb; --card:#ffffff; --text:#1f2937; --muted:#6b7280; --border:#e5e7eb; --shadow:0 10px 24px rgba(2,8,20,.06);}}
    *{box-sizing:border-box} body{margin:0;font:16px/1.4 system-ui,-apple-system,Segoe UI,Roboto,Noto Sans,Ubuntu,Cantarell,Helvetica Neue,Arial;background:var(--bg);color:var(--text);padding:24px}
    .container{max-width:1180px;margin:0 auto;display:grid;gap:18px}
    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      flex-wrap: nowrap; /* Prevent wrapping */
      white-space: nowrap; /* Prevent text wrapping */
      min-width: 0; /* Allow shrinking if needed */
    }
    h1, .controls {
      min-width: 0; /* Prevent overflow */
    }
    h1{margin:0;font-size:24px}
    .controls{display:flex;gap:10px;flex-wrap:wrap}
    button{padding:8px 12px;border-radius:10px;border:1px solid var(--border);background:linear-gradient(180deg,rgba(99,102,241,.10),rgba(99,102,241,.02));color:var(--text);cursor:pointer;font-weight:600}
    .hint{font-size:12px;color:var(--muted)}
    .card{grid-column:span 12;background:linear-gradient(180deg,rgba(255,255,255,.02),transparent),var(--card);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:16px}
    .section-head{display:flex;align-items:center;justify-content:space-between;gap:8px;margin-bottom:8px}
    .label{display:flex;align-items:center;gap:8px}
    .badge{margin-left:8px;padding:2px 8px;border-radius:999px;border:1px solid var(--border);font-size:12px;color:var(--muted)}
    .emoji{font-size:18px}
    .grid-2{display:grid;grid-template-columns:1fr;gap:18px}
    @media (min-width: 900px){ .grid-2{grid-template-columns:repeat(2,minmax(0,1fr));} }
    .rss-wrap{border:1px solid var(--border);border-radius:12px;background:linear-gradient(180deg,rgba(255,255,255,.04),transparent);overflow:auto;max-height:calc(64px * 4 + 2px)}
    .rss-list{list-style:none;margin:0;padding:0}
    .rss-item{display:grid;grid-template-columns:1fr auto;gap:10px;align-items:start;padding:10px 12px;border-bottom:1px dashed var(--border)}
    .rss-item:last-child{border-bottom:none}
    .rss-item a{text-decoration:none;color:var(--text);font-weight:600}
    .rss-item a:hover{text-decoration:underline}
    .rss-item time{color:var(--muted);font-size:12px;white-space:nowrap}
    .rss-toolbar{display:flex;gap:8px;align-items:center}
    .rss-status{color:var(--muted);font-size:12px}
    footer{color:var(--muted);font-size:12px;text-align:center}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Daily Launchpad</h1>
      <div class="controls">
        <button id="refreshAll">Refresh All Feeds</button>
      </div>
    </header>
<section class="card"><div class="section-head"><div class="label"><h2 style="margin:0;font-size:18px">Top News</h2><span class="badge">Latest first</span></div><div class="rss-toolbar"><button class="group-refresh" data-group="Top News">Refresh Group</button></div></div><div class="grid-2">
      <div id="sec-NYT" class="rss-card">
        <div class="section-head" style="margin-bottom:6px">
          <div class="label"><span class="emoji">📰</span><strong>NYT Headlines</strong></div>
          <div class="rss-toolbar">
            <button data-feed="NYT">Refresh</button>
            <span id="status-NYT" class="rss-status">Loading…</span>
          </div>
        </div>
        <div class="rss-wrap"><ul id="list-NYT" class="rss-list" aria-live="polite"></ul></div>
      </div>

      <div id="sec-BBCWorld" class="rss-card">
        <div class="section-head" style="margin-bottom:6px">
          <div class="label"><span class="emoji">🌍</span><strong>BBC World</strong></div>
          <div class="rss-toolbar">
            <button data-feed="BBCWorld">Refresh</button>
            <span id="status-BBCWorld" class="rss-status">Loading…</span>
          </div>
        </div>
        <div class="rss-wrap"><ul id="list-BBCWorld" class="rss-list" aria-live="polite"></ul></div>
      </div>

      <div id="sec-NPRTop" class="rss-card">
        <div class="section-head" style="margin-bottom:6px">
          <div class="label"><span class="emoji">📻</span><strong>NPR Top Stories</strong></div>
          <div class="rss-toolbar">
            <button data-feed="NPRTop">Refresh</button>
            <span id="status-NPRTop" class="rss-status">Loading…</span>
          </div>
        </div>
        <div class="rss-wrap"><ul id="list-NPRTop" class="rss-list" aria-live="polite"></ul></div>
      </div>

      <div id="sec-wpost" class="rss-card">
        <div class="section-head" style="margin-bottom:6px">
          <div class="label"><span class="emoji">🇺🇸</span><strong>Washington Post</strong></div>
          <div class="rss-toolbar">
            <button data-feed="wpost">Refresh</button>
            <span id="status-wpost" class="rss-status">Loading…</span>
          </div>
        </div>
        <div class="rss-wrap"><ul id="list-CNNUS" class="rss-list" aria-live="polite"></ul></div>
      </div>
</div></section><section class="card"><div class="section-head"><div class="label"><h2 style="margin:0;font-size:18px">Politics</h2><span class="badge">Latest first</span></div><div class="rss-toolbar"><button class="group-refresh" data-group="Politics">Refresh Group</button></div></div><div class="grid-2">
      <div id="sec-Politico" class="rss-card">
        <div class="section-head" style="margin-bottom:6px">
          <div class="label"><span class="emoji">🏛️</span><strong>POLITICO Picks</strong></div>
          <div class="rss-toolbar">
            <button data-feed="Politico">Refresh</button>
            <span id="status-Politico" class="rss-status">Loading…</span>
          </div>
        </div>
        <div class="rss-wrap"><ul id="list-Politico" class="rss-list" aria-live="polite"></ul></div>
      </div>

      <div id="sec-WaPoPolitics" class="rss-card">
        <div class="section-head" style="margin-bottom:6px">
          <div class="label"><span class="emoji">🏛️</span><strong>Washington Post — Politics</strong></div>
          <div class="rss-toolbar">
            <button data-feed="WaPoPolitics">Refresh</button>
            <span id="status-WaPoPolitics" class="rss-status">Loading…</span>
          </div>
        </div>
        <div class="rss-wrap"><ul id="list-WaPoPolitics" class="rss-list" aria-live="polite"></ul></div>
      </div>

      <div id="sec-ReutersTop" class="rss-card">
        <div class="section-head" style="margin-bottom:6px">
          <div class="label"><span class="emoji">🗞️</span><strong>Reuters Top News</strong></div>
          <div class="rss-toolbar">
            <button data-feed="ReutersTop">Refresh</button>
            <span id="status-ReutersTop" class="rss-status">Loading…</span>
          </div>
        </div>
        <div class="rss-wrap"><ul id="list-ReutersTop" class="rss-list" aria-live="polite"></ul></div>
      </div>

      <div id="sec-APTop" class="rss-card">
        <div class="section-head" style="margin-bottom:6px">
          <div class="label"><span class="emoji">📰</span><strong>AP Top News</strong></div>
          <div class="rss-toolbar">
            <button data-feed="APTop">Refresh</button>
            <span id="status-APTop" class="rss-status">Loading…</span>
          </div>
        </div>
        <div class="rss-wrap"><ul id="list-APTop" class="rss-list" aria-live="polite"></ul></div>
      </div>
</div></section><section class="card"><div class="section-head"><div class="label"><h2 style="margin:0;font-size:18px">Markets & Business</h2><span class="badge">Latest first</span></div><div class="rss-toolbar"><button class="group-refresh" data-group="Markets & Business">Refresh Group</button></div></div><div class="grid-2">
      <div id="sec-CNBCMarkets" class="rss-card">
        <div class="section-head" style="margin-bottom:6px">
          <div class="label"><span class="emoji">💹</span><strong>CNBC Top News & Analysis</strong></div>
          <div class="rss-toolbar">
            <button data-feed="CNBCMarkets">Refresh</button>
            <span id="status-CNBCMarkets" class="rss-status">Loading…</span>
          </div>
        </div>
        <div class="rss-wrap"><ul id="list-CNBCMarkets" class="rss-list" aria-live="polite"></ul></div>
      </div>

      <div id="sec-FTWorld" class="rss-card">
        <div class="section-head" style="margin-bottom:6px">
          <div class="label"><span class="emoji">💼</span><strong>Financial Times — World</strong></div>
          <div class="rss-toolbar">
            <button data-feed="FTWorld">Refresh</button>
            <span id="status-FTWorld" class="rss-status">Loading…</span>
          </div>
        </div>
        <div class="rss-wrap"><ul id="list-FTWorld" class="rss-list" aria-live="polite"></ul></div>
      </div>
</div></section><section class="card"><div class="section-head"><div class="label"><h2 style="margin:0;font-size:18px">Tech</h2><span class="badge">Latest first</span></div><div class="rss-toolbar"><button class="group-refresh" data-group="Tech">Refresh Group</button></div></div><div class="grid-2">
      <div id="sec-TechCrunch" class="rss-card">
        <div class="section-head" style="margin-bottom:6px">
          <div class="label"><span class="emoji">🚀</span><strong>TechCrunch</strong></div>
          <div class="rss-toolbar">
            <button data-feed="TechCrunch">Refresh</button>
            <span id="status-TechCrunch" class="rss-status">Loading…</span>
          </div>
        </div>
        <div class="rss-wrap"><ul id="list-TechCrunch" class="rss-list" aria-live="polite"></ul></div>
      </div>

      <div id="sec-Wired" class="rss-card">
        <div class="section-head" style="margin-bottom:6px">
          <div class="label"><span class="emoji">🔧</span><strong>WIRED</strong></div>
          <div class="rss-toolbar">
            <button data-feed="Wired">Refresh</button>
            <span id="status-Wired" class="rss-status">Loading…</span>
          </div>
        </div>
        <div class="rss-wrap"><ul id="list-Wired" class="rss-list" aria-live="polite"></ul></div>
      </div>

      <div id="sec-TheVerge" class="rss-card">
        <div class="section-head" style="margin-bottom:6px">
          <div class="label"><span class="emoji">🧪</span><strong>The Verge</strong></div>
          <div class="rss-toolbar">
            <button data-feed="TheVerge">Refresh</button>
            <span id="status-TheVerge" class="rss-status">Loading…</span>
          </div>
        </div>
        <div class="rss-wrap"><ul id="list-TheVerge" class="rss-list" aria-live="polite"></ul></div>
      </div>
</div></section><section class="card"><div class="section-head"><div class="label"><h2 style="margin:0;font-size:18px">Sports</h2><span class="badge">Latest first</span></div><div class="rss-toolbar"><button class="group-refresh" data-group="Sports">Refresh Group</button></div></div><div class="grid-2">
      <div id="sec-ESPN" class="rss-card">
        <div class="section-head" style="margin-bottom:6px">
          <div class="label"><span class="emoji">🏟️</span><strong>ESPN Top Headlines</strong></div>
          <div class="rss-toolbar">
            <button data-feed="ESPN">Refresh</button>
            <span id="status-ESPN" class="rss-status">Loading…</span>
          </div>
        </div>
        <div class="rss-wrap"><ul id="list-ESPN" class="rss-list" aria-live="polite"></ul></div>
      </div>

      <div id="sec-BR" class="rss-card">
        <div class="section-head" style="margin-bottom:6px">
          <div class="label"><span class="emoji">🏅</span><strong>Bleacher Report</strong></div>
          <div class="rss-toolbar">
            <button data-feed="BR">Refresh</button>
            <span id="status-BR" class="rss-status">Loading…</span>
          </div>
        </div>
        <div class="rss-wrap"><ul id="list-BR" class="rss-list" aria-live="polite"></ul></div>
      </div>

      <div id="sec-BBCSportUK" class="rss-card">
        <div class="section-head" style="margin-bottom:6px">
          <div class="label"><span class="emoji">⚽</span><strong>BBC Sport (UK)</strong></div>
          <div class="rss-toolbar">
            <button data-feed="BBCSportUK">Refresh</button>
            <span id="status-BBCSportUK" class="rss-status">Loading…</span>
          </div>
        </div>
        <div class="rss-wrap"><ul id="list-BBCSportUK" class="rss-list" aria-live="polite"></ul></div>
      </div>

      <div id="sec-Cubs" class="rss-card">
        <div class="section-head" style="margin-bottom:6px">
          <div class="label"><span class="emoji">🐻</span><strong>Cubs News</strong></div>
          <div class="rss-toolbar">
            <button data-feed="Cubs">Refresh</button>
            <span id="status-Cubs" class="rss-status">Loading…</span>
          </div>
        </div>
        <div class="rss-wrap"><ul id="list-Cubs" class="rss-list" aria-live="polite"></ul></div>
      </div>
</div></section>
    <footer>Note: If any feed fails to load, the source may be blocking cross-origin requests. You can switch the proxy to your own Cloudflare Worker for higher reliability.</footer>
  </div>

  <script>
    const FEEDS = {
      "NYT": "https://rss.nytimes.com/services/xml/rss/nyt/HomePage.xml",
      "ReutersTop": "https://feeds.reuters.com/reuters/topNews",
      "APTop": "https://feeds.apnews.com/ap/topnews",
      "BBCWorld": "https://feeds.bbci.co.uk/news/world/rss.xml",
      "NPRTop": "https://feeds.npr.org/1001/rss.xml",
      "Politico": "https://www.politico.com/rss/politicopicks.xml",
      "WaPoPolitics": "https://feeds.washingtonpost.com/rss/politics",
      "wpost": "https://feeds.washingtonpost.com/rss/national",
      "WSJMarkets": "https://feeds.a.dj.com/rss/RSSMarketsMain.xml",
      "CNBCMarkets": "https://www.cnbc.com/id/100003114/device/rss/rss.html",
      "FTWorld": "https://www.ft.com/rss/world",
      "TechCrunch": "https://feeds.feedburner.com/TechCrunch/",
      "Wired": "https://www.wired.com/feed/rss",
      "TheVerge": "https://www.theverge.com/rss/index.xml",
      "ESPN": "https://www.espn.com/espn/rss/news",
      "BR": "https://feeds.feedburner.com/bleacherreport/dFpM",
      "BBCSportUK": "https://feeds.bbci.co.uk/sport/rss.xml?edition=uk",
      "Cubs": "https://www.mlb.com/cubs/feeds/news/rss.xml",
    };
    let PROXY = "https://silent-sunset-890f.kpdfvg7cd7.workers.dev/workers.dev/?url=";
    const store = {};

    function fmtDate(ts){
      try { return new Date(ts).toLocaleString([], {month:'short', day:'numeric', hour:'2-digit', minute:'2-digit'}); }
      catch { return ''; }
    }
    function normalizeId(node){
      const guid = node.querySelector('guid')?.textContent?.trim();
      const link = node.querySelector('link')?.textContent?.trim();
      const title = node.querySelector('title')?.textContent?.trim();
      const pubDate = node.querySelector('pubDate')?.textContent?.trim();
      return guid || link || (title + '|' + pubDate);
    }
    function toItem(node){
      const title = node.querySelector('title')?.textContent?.trim() ?? 'Untitled';
      const link = node.querySelector('link')?.textContent?.trim() ?? '#';
      const pubDate = node.querySelector('pubDate')?.textContent?.trim() ?? '';
      const ts = Date.parse(pubDate || '') || Date.now();
      return { id: normalizeId(node), title, link, ts };
    }
    function render(key){
      const list = document.getElementById('list-' + key);
      const items = (store[key] || []).slice().sort((a,b)=>b.ts - a.ts);
      list.innerHTML = '';
      for(const it of items){
        const li = document.createElement('li'); li.className = 'rss-item';
        const a = document.createElement('a'); a.href = it.link; a.target = '_blank'; a.rel = 'noopener noreferrer'; a.textContent = it.title;
        const t = document.createElement('time'); t.textContent = fmtDate(it.ts);
        li.appendChild(a); li.appendChild(t);
        list.appendChild(li);
      }
    }
    async function loadFeed(key){
      const status = document.getElementById('status-' + key);
      if (status) status.textContent = 'Loading…';
      try {
        const res = await fetch(PROXY + encodeURIComponent(FEEDS[key]));
        if(!res.ok) throw new Error('Network ' + res.status);
        const xml = await res.text();
        const doc = new DOMParser().parseFromString(xml, 'text/xml');
        const nodes = Array.from(doc.querySelectorAll('item'));
        const fresh = nodes.map(toItem);
        const existing = store[key] || [];
        const seen = new Set(existing.map(i => i.id));
        for(const f of fresh){ if(!seen.has(f.id)) existing.push(f); }
        store[key] = existing;
        render(key);
        if (status) status.textContent = 'Updated ' + new Date().toLocaleTimeString();
      } catch (e){
        console.error(key, e);
        if (status) status.textContent = 'Could not load';
      }
    }
    document.querySelectorAll('button[data-feed]').forEach(btn => btn.addEventListener('click', () => loadFeed(btn.dataset.feed)));
    document.getElementById('refreshAll').addEventListener('click', () => { for(const key in FEEDS){ loadFeed(key); } });
    document.querySelectorAll('.group-refresh').forEach(btn => {
      btn.addEventListener('click', () => {
        btn.closest('section').querySelectorAll('button[data-feed]').forEach(b => loadFeed(b.dataset.feed));
      });
    });
    for(const key in FEEDS){ loadFeed(key); }
    setInterval(() => { for(const key in FEEDS){ loadFeed(key); } }, 1 * 60 * 1000);

    // Optional: use your own Cloudflare Worker proxy for reliability:
    // PROXY = "https://<your-worker-subdomain>.workers.dev/?url=";
  </script>

  <!-- Cloudflare Worker proxy template:
  export default {
    async fetch(request) {
      const url = new URL(request.url);
      const target = url.searchParams.get('url');
      if (!target) return new Response('Missing url', { status: 400 });
      const r = await fetch(target, { headers: { 'User-Agent': 'Mozilla/5.0' }});
      const text = await r.text();
      return new Response(text, { headers: { 'Content-Type': 'application/xml', 'Access-Control-Allow-Origin': '*' } });
    }
  };
  -->
</body>
</html>
